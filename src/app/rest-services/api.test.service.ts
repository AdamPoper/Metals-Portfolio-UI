import { Observable } from "rxjs";
import { ApiSpotPrices } from "../models/api-spot-prices";
import { Injectable } from "@angular/core";

@Injectable({
    providedIn: 'root'
})
export default class ApiTestService {
    
    public getMetalSpotPriceTestData(): Observable<ApiSpotPrices> {
        const testData = {
            "status": "success",
            "currency": "USD",
            "unit": "toz",
            "metals": {
                "gold": 4508.49,
                "silver": 71.7165,
                "platinum": 2358.725,
                "palladium": 1898.5,
                "lbma_gold_am": 4481.85,
                "lbma_gold_pm": 4449.4,
                "lbma_silver": 69.74,
                "lbma_platinum_am": 2178,
                "lbma_platinum_pm": 2208,
                "lbma_palladium_am": 1803,
                "lbma_palladium_pm": 1837,
                "mcx_gold": 4788.7253,
                "mcx_gold_am": 4716.5298,
                "mcx_gold_pm": 4717.5369,
                "mcx_silver": 76.3974,
                "mcx_silver_am": 72.8282,
                "mcx_silver_pm": 73.0029,
                "ibja_gold": 4732.4755,
                "copper": 0.3841,
                "aluminum": 0.0911,
                "lead": 0.0613,
                "nickel": 0.4861,
                "zinc": 0.0956,
                "lme_copper": 0.3745,
                "lme_aluminum": 0.0919,
                "lme_lead": 0.062,
                "lme_nickel": 0.4874,
                "lme_zinc": 0.097
            },
            "currencies": {
                "AED": 0.2722940776,
                "AFN": 0.0152931153,
                "ALL": 0.0122139709,
                "AMD": 0.0026206954,
                "ANG": 0.5556170012,
                "AOA": 0.0010896477,
                "ARS": 0.0006893956,
                "AUD": 0.6702312266,
                "AWG": 0.5586592179,
                "AZN": 0.5882399414,
                "BAM": 0.6032059934,
                "BBD": 0.5,
                "BDT": 0.0081875803,
                "BGN": 0.6032059934,
                "BHD": 2.6595744681,
                "BIF": 0.0003386314,
                "BMD": 1,
                "BND": 0.7788406574,
                "BOB": 0.1444819524,
                "BRL": 0.1810602259,
                "BSD": 1,
                "BTC": 87399.5997098333,
                "BTN": 0.0111646912,
                "BWP": 0.0727378665,
                "BYN": 0.3450870716,
                "BYR": 0.0000345087,
                "BZD": 0.4968561611,
                "CAD": 0.7306686924,
                "CDF": 0.0004403608,
                "CHF": 1.2700991442,
                "CLP": 0.0011023094,
                "CNH": 0.1424943864,
                "CNY": 0.1422531196,
                "COP": 0.000266249,
                "CRC": 0.0020090124,
                "CUC": 1,
                "CUP": 0.0417152566,
                "CVE": 0.0106989061,
                "CZK": 0.0485405376,
                "DJF": 0.0056199827,
                "DKK": 0.1579388727,
                "DOP": 0.0159670269,
                "DZD": 0.0077155384,
                "EEK": 0.0754007492,
                "EGP": 0.0210633003,
                "ERN": 0.0666666667,
                "ETB": 0.0064266624,
                "EUR": 1.179768378,
                "FJD": 0.4400315991,
                "FKP": 1.3513805494,
                "GBP": 1.3513805494,
                "GEL": 0.3711171374,
                "GGP": 1.3513805494,
                "GHS": 0.0879264942,
                "GIP": 1.3513805494,
                "GMD": 0.0134436919,
                "GNF": 0.0001143665,
                "GTQ": 0.1305816381,
                "GYD": 0.0047816268,
                "HKD": 0.1285765998,
                "HNL": 0.0379378421,
                "HRK": 0.1565821724,
                "HTG": 0.0076409977,
                "HUF": 0.0030209746,
                "IDR": 0.0000596813,
                "ILS": 0.3140190853,
                "IMP": 1.3513805494,
                "INR": 0.0111646912,
                "IQD": 0.0007631277,
                "IRR": 0.0000238054,
                "ISK": 0.0079712329,
                "JEP": 1.3513805494,
                "JMD": 0.0062653492,
                "JOD": 1.4104372355,
                "JPY": 0.0064074973,
                "KES": 0.0077509751,
                "KGS": 0.0114334205,
                "KHR": 0.00024956,
                "KMF": 0.0023980604,
                "KPW": 0.0011110831,
                "KRW": 0.0006796637,
                "KWD": 3.255889377,
                "KYD": 1.2024327343,
                "KZT": 0.0019636598,
                "LAK": 0.0000462456,
                "LBP": 0.0000111755,
                "LKR": 0.0032322672,
                "LRD": 0.005630708,
                "LSL": 0.0599407098,
                "LTL": 0.3416845395,
                "LVL": 1.6786687222,
                "LYD": 0.1846213357,
                "MAD": 0.1097492084,
                "MDL": 0.0593717518,
                "MGA": 0.0002191333,
                "MKD": 0.0191602811,
                "MMK": 0.0004761797,
                "MNT": 0.0002819839,
                "MOP": 0.1248316503,
                "MRU": 0.0251291758,
                "MUR": 0.0217553592,
                "MVR": 0.0646858417,
                "MWK": 0.0005766761,
                "MXN": 0.0558626877,
                "MYR": 0.246050237,
                "MZN": 0.0156497067,
                "NAD": 0.0599407098,
                "NGN": 0.0006866877,
                "NIO": 0.027182273,
                "NOK": 0.0997047178,
                "NPR": 0.0069746626,
                "NTD": 0.0337206,
                "NZD": 0.5842755212,
                "OMR": 2.5994317733,
                "PAB": 1,
                "PEN": 0.2971764698,
                "PGK": 0.231603065,
                "PHP": 0.0170092232,
                "PKR": 0.0035702241,
                "PLN": 0.2794154682,
                "PYG": 0.0001483143,
                "QAR": 0.2747252747,
                "RON": 0.2317672236,
                "RSD": 0.0100514306,
                "RUB": 0.0128201755,
                "RWF": 0.0006881153,
                "SAR": 0.2666666667,
                "SBD": 0.1229762598,
                "SCR": 0.0706758176,
                "SDG": 0.0016665312,
                "SEK": 0.1091177486,
                "SGD": 0.7788406574,
                "SHP": 1.3513805494,
                "SKK": 0.0391611358,
                "SLE": 0.0436681541,
                "SLL": 0.0000440506,
                "SOS": 0.0017504112,
                "SPL": 6.000000024,
                "SRD": 0.026072001,
                "STN": 0.0474723928,
                "SVC": 0.1142857143,
                "SYP": 0.0000904416,
                "SZL": 0.0599407098,
                "THB": 0.0321519332,
                "TJS": 0.1087517532,
                "TMT": 0.2859180517,
                "TND": 0.3463849308,
                "TOP": 0.4172892102,
                "TRY": 0.0233353366,
                "TTD": 0.1470909788,
                "TVD": 0.6702312266,
                "TWD": 0.0317384533,
                "TZS": 0.0004042704,
                "UAH": 0.0238460544,
                "UGX": 0.0002769126,
                "USD": 1,
                "UYU": 0.025601924,
                "UZS": 0.0000829084,
                "VED": 0.0034739654,
                "VEF": 2.77168e-7,
                "VES": 0.0034739654,
                "VND": 0.0000379573,
                "VUV": 0.0082711598,
                "WST": 0.3630737701,
                "XAF": 0.0017985453,
                "XCD": 0.3694256968,
                "XDR": 1.3712352024,
                "XOF": 0.0017985453,
                "XPF": 0.009886459,
                "YER": 0.0041946781,
                "ZAR": 0.0599407098,
                "ZMW": 0.0442469474,
                "ZWD": 0.00276319,
                "ZWL": 0.0000153682
            },
            "timestamps": {
                "metal": "2025-12-24T00:16:03.876Z",
                "currency": "2025-12-24T00:15:10.204Z"
            }
        };
        
        return new Observable<ApiSpotPrices>(subscriber => {
            const randomOffset = Math.random() * 10;
            const spotPrices: ApiSpotPrices = {
                gold: testData.metals.gold + randomOffset,
                silver: testData.metals.silver + randomOffset
            };
            subscriber.next(spotPrices);
            subscriber.complete();
        });
    }
}